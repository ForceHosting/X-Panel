"use strict";(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[122],{67871:function(e,t,n){n.d(t,{Z:function(){return f}});var i=n(1413),r=n(45987),a=n(57829),s=n(61113),o=n(90891),c=n(29466),l=n(3404),d=n(46417),u=["links","activeLast"];function h(e){var t=e.links,n=e.activeLast,o=void 0!==n&&n,c=(0,r.Z)(e,u),h=t[t.length-1].name,p=t.map((function(e){return(0,d.jsx)(x,{link:e},e.name)})),f=t.map((function(e){return(0,d.jsx)("div",{children:e.name!==h?(0,d.jsx)(x,{link:e}):(0,d.jsx)(s.Z,{variant:"body2",sx:{maxWidth:260,overflow:"hidden",whiteSpace:"nowrap",color:"text.disabled",textOverflow:"ellipsis"},children:h})},e.name)}));return(0,d.jsx)(l.Z,(0,i.Z)((0,i.Z)({separator:(0,d.jsx)(a.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})},c),{},{children:o?p:f}))}function x(e){var t=e.link,n=t.href,i=t.name,r=t.icon;return(0,d.jsxs)(o.Z,{variant:"body2",component:c.rU,to:n||"#",sx:{lineHeight:2,display:"flex",alignItems:"center",color:"text.primary","& > div":{display:"inherit"}},children:[r&&(0,d.jsx)(a.Z,{sx:{mr:1,"& svg":{width:20,height:20}},children:r}),i]},i)}var p=["links","action","heading","moreLink","sx"];function f(e){var t=e.links,n=e.action,c=e.heading,l=e.moreLink,u=void 0===l?[]:l,x=e.sx,f=(0,r.Z)(e,p);return(0,d.jsxs)(a.Z,{sx:(0,i.Z)({mb:5},x),children:[(0,d.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,d.jsxs)(a.Z,{sx:{flexGrow:1},children:[(0,d.jsx)(s.Z,{variant:"h4",gutterBottom:!0,children:c}),(0,d.jsx)(h,(0,i.Z)({links:t},f))]}),n&&(0,d.jsx)(a.Z,{sx:{flexShrink:0},children:n})]}),(0,d.jsx)(a.Z,{sx:{mt:2},children:"string"===typeof u?(0,d.jsx)(o.Z,{href:u,target:"_blank",rel:"noopener",variant:"body2",children:u}):u.map((function(e){return(0,d.jsx)(o.Z,{noWrap:!0,href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)}))})]})}},83145:function(e,t,n){var i=n(4942),r=n(1413),a=n(17592),s=n(15082),o=(0,a.ZP)(s.Z,{shouldForwardProp:function(e){return"stretchStart"!==e}})((function(e){var t=e.stretchStart,n=e.theme;return{"& .MuiOutlinedInput-root":(0,r.Z)({transition:n.transitions.create(["box-shadow","width"],{easing:n.transitions.easing.easeInOut,duration:n.transitions.duration.shorter}),"&.Mui-focused":{boxShadow:n.customShadows.z12}},t&&{width:t,"&.Mui-focused":(0,i.Z)({boxShadow:n.customShadows.z12},n.breakpoints.up("sm"),{width:t+60})}),"& fieldset":{borderWidth:"1px !important",borderColor:"".concat(n.palette.grey[50032]," !important")}}}));t.Z=o},71361:function(e,t,n){var i=n(1413),r=n(45987),a=n(75192),s=n.n(a),o=n(65964),c=n(47313),l=n(57829),d=n(46417),u=["children","title","meta"],h=(0,c.forwardRef)((function(e,t){var n=e.children,a=e.title,s=void 0===a?"":a,c=e.meta,h=(0,r.Z)(e,u);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(o.ql,{children:[(0,d.jsx)("title",{children:"".concat(s," | Force Host")}),c]}),(0,d.jsx)(l.Z,(0,i.Z)((0,i.Z)({ref:t},h),{},{children:n}))]})}));h.propTypes={children:s().node.isRequired,title:s().string,meta:s().node},t.Z=h},21421:function(e,t,n){n.d(t,{i4:function(){return c},VJ:function(){return s}});var i=n(46417);var r=n(84488),a=n(57829);function s(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.Z,{width:"100%",height:560,variant:"rectangular",sx:{borderRadius:2}}),(0,i.jsxs)(a.Z,{sx:{mt:3,display:"flex",alignItems:"center"},children:[(0,i.jsx)(r.Z,{variant:"circular",width:64,height:64}),(0,i.jsxs)(a.Z,{sx:{flexGrow:1,ml:2},children:[(0,i.jsx)(r.Z,{variant:"text",height:20}),(0,i.jsx)(r.Z,{variant:"text",height:20}),(0,i.jsx)(r.Z,{variant:"text",height:20})]})]})]})}var o=n(35898);function c(){return(0,i.jsxs)(o.Z,{spacing:1,direction:"row",alignItems:"center",sx:{px:3,py:1.5},children:[(0,i.jsx)(r.Z,{variant:"circular",width:48,height:48}),(0,i.jsxs)(o.Z,{spacing:.5,sx:{flexGrow:1},children:[(0,i.jsx)(r.Z,{variant:"text",sx:{width:.5,height:16}}),(0,i.jsx)(r.Z,{variant:"text",sx:{width:.25,height:12}})]})]})}},36122:function(e,t,n){n.r(t),n.d(t,{default:function(){return Wt}});var i=n(47313),r=n(70178),a=n(73428),s=n(13167),o=n(84232),c=n(48175),l=n(11338),d=n(71361),u=n(67871),h=n(29439),x=n(1413),p=n(17592),f=n(19860),v=n(47131),g=n(19536),m=n(57829),Z=n(46923),j=n(67250),b=n(42593),y=n(28845),w=n.n(y),k=n(15122),C=n.n(k),I=n(69099),S=n(65033),P=n(61113),_=n(61484),R=n(3484),O=n(46417),W=["jpg","jpeg","gif","bmp","png"],M=["m4v","avi","mpg","mp4","webm"],T=["doc","docx"],A=["xls","xlsx"],z=["ppt","pptx"],F=["pdf"],B=["psd"],D=["ai","esp"];function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e&&e.split(".").pop()||""}function L(e){return e.split("/").pop()}var G=function(e){return(0,O.jsx)(R.Z,{src:"https://minimal-assets-api-dev.vercel.app/assets/icons/file/".concat(e,".svg"),alt:e,sx:{width:28,height:28}})};function q(e){var t;switch(function(e){var t;switch(e.includes(E(e))){case W.includes(E(e)):t="image";break;case M.includes(E(e)):t="video";break;case T.includes(E(e)):t="word";break;case A.includes(E(e)):t="excel";break;case z.includes(E(e)):t="powerpoint";break;case F.includes(E(e)):t="pdf";break;case B.includes(E(e)):t="photoshop";break;case D.includes(E(e)):t="illustrator";break;default:t=E(e)}return t}(e)){case"video":t=G("format_video");break;case"word":t=G("format_word");break;case"excel":t=G("format_excel");break;case"powerpoint":t=G("format_powerpoint");break;case"pdf":t=G("format_pdf");break;case"photoshop":t=G("format_photoshop");break;case"illustrator":t=G("format_ai");break;case"image":t=(0,O.jsx)(R.Z,{src:e,alt:e,sx:{height:1}});break;default:t=(0,O.jsx)(b.Z,{icon:"eva:file-fill",sx:{width:28,height:28}})}return t}var U=n(62677),H=(0,p.ZP)("div")((function(e){return{flexGrow:1,height:"100%",display:"flex",overflow:"hidden",flexDirection:"column",paddingBottom:e.theme.spacing(2)}})),N=(0,p.ZP)("div")((function(e){var t=e.theme;return{display:"flex",alignItems:"center",marginTop:t.spacing(2),padding:t.spacing(0,2.5)}})),V=(0,p.ZP)("div")((function(e){var t=e.theme;return{width:40,height:40,flexShrink:0,display:"flex",overflow:"hidden",alignItems:"center",justifyContent:"center",color:t.palette.text.secondary,borderRadius:t.shape.borderRadius,backgroundColor:t.palette.grey[50016]}})),K=(0,p.ZP)(I.Z)((function(e){var t=e.theme;return(0,x.Z)((0,x.Z)({},t.typography.overline),{},{height:40,flexShrink:0,borderRadius:0,padding:t.spacing(1,2),justifyContent:"space-between",color:t.palette.text.disabled})}));function Y(e){var t=e.conversation,n=e.isCollapse,i=e.onCollapse,r=w()(C()(t.messages.map((function(e){return e.attachments})))).length;return(0,O.jsxs)(H,{children:[(0,O.jsxs)(K,{fullWidth:!0,color:"inherit",onClick:i,endIcon:(0,O.jsx)(b.Z,{icon:n?"eva:arrow-ios-downward-fill":"eva:arrow-ios-forward-fill",width:16,height:16}),children:["attachment (",r,")"]}),!n&&(0,O.jsx)(g.Z,{}),(0,O.jsx)(U.Z,{children:(0,O.jsx)(S.Z,{in:n,children:t.messages.map((function(e){return(0,O.jsx)("div",{children:e.attachments.map((function(t){return(0,O.jsx)(Q,{file:e,fileUrl:t},t)}))},e.id)}))})})]})}function Q(e){var t=e.file,n=e.fileUrl;return(0,O.jsxs)(N,{children:[(0,O.jsx)(V,{children:q(n)}),(0,O.jsxs)(m.Z,{sx:{ml:1.5,maxWidth:150},children:[(0,O.jsx)(P.Z,{variant:"body2",noWrap:!0,children:L(n)}),(0,O.jsx)(P.Z,{noWrap:!0,variant:"caption",sx:{color:"text.secondary",display:"block"},children:(0,_.zM)(t.createdAt)})]})]},n)}var J=n(93433),X=n(63585),$=(0,p.ZP)(I.Z)((function(e){var t=e.theme;return(0,x.Z)((0,x.Z)({},t.typography.overline),{},{height:40,borderRadius:0,padding:t.spacing(1,2),justifyContent:"space-between",color:t.palette.text.disabled})})),ee=(0,p.ZP)("div")((function(e){return{display:"flex",margin:e.theme.spacing(1.5,0)}})),te=(0,p.ZP)(b.Z)((function(e){var t=e.theme;return{width:16,height:16,marginTop:4,marginRight:t.spacing(1),color:t.palette.text.secondary}})),ne=(0,p.ZP)(P.Z)((function(e){var t=e.theme;return(0,x.Z)({flexGrow:1,maxWidth:160,wordWrap:"break-word"},t.typography.body2)}));function ie(e){var t=e.participants,n=e.isCollapse,i=e.onCollapse,r=(0,J.Z)(t)[0];return void 0===r?null:(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(m.Z,{sx:{pt:4,pb:3,display:"flex",alignItems:"center",flexDirection:"column"},children:[(0,O.jsx)(X.Z,{alt:r.name,src:r.avatar,sx:{width:96,height:96}}),(0,O.jsxs)(m.Z,{sx:{mt:2,textAlign:"center"},children:[(0,O.jsx)(P.Z,{variant:"subtitle1",children:r.name}),(0,O.jsx)(P.Z,{variant:"body2",sx:{color:"text.secondary"},children:r.position})]})]}),(0,O.jsx)(g.Z,{}),(0,O.jsx)($,{fullWidth:!0,color:"inherit",onClick:i,endIcon:(0,O.jsx)(b.Z,{icon:n?"eva:arrow-ios-downward-fill":"eva:arrow-ios-forward-fill",width:16,height:16}),children:"information"}),(0,O.jsx)(S.Z,{in:n,children:(0,O.jsxs)(m.Z,{sx:{px:2.5,pb:1},children:[(0,O.jsxs)(ee,{children:[(0,O.jsx)(te,{icon:"eva:pin-fill"}),(0,O.jsx)(ne,{children:r.address})]}),(0,O.jsxs)(ee,{children:[(0,O.jsx)(te,{icon:"eva:phone-fill"}),(0,O.jsx)(ne,{children:r.phone})]}),(0,O.jsxs)(ee,{children:[(0,O.jsx)(te,{icon:"eva:email-fill"}),(0,O.jsx)(ne,{children:r.email})]})]})})]})}var re=n(48310),ae=n(45624),se=n(32600),oe=n(83213),ce=n(68354),le=n(66176),de=n(97281),ue=(0,p.ZP)("div")((function(e){return{display:"flex",alignItems:"center",justifyContent:"center",marginTop:e.theme.spacing(1.5)}}));function he(e){var t=e.participant,n=e.isOpen,i=e.onClose,r=t.name,a=t.avatar,s=t.position,o=t.address,c=t.phone,l=t.email;return(0,O.jsx)(de.Kl,{fullWidth:!0,maxWidth:"xs",open:n,onClose:i,children:(0,O.jsxs)(le.Z,{sx:{pb:5,textAlign:"center"},children:[(0,O.jsx)(X.Z,{alt:r,src:a,sx:{mt:5,mb:2,mx:"auto",width:96,height:96}}),(0,O.jsx)(P.Z,{variant:"h6",children:r}),(0,O.jsx)(P.Z,{variant:"body2",paragraph:!0,sx:{color:"text.secondary"},children:s}),(0,O.jsxs)(ue,{children:[(0,O.jsx)(b.Z,{icon:"eva:pin-fill",sx:{mr:1,width:16,height:16,color:"text.disabled"}}),(0,O.jsx)(P.Z,{variant:"body2",children:o})]}),(0,O.jsxs)(ue,{children:[(0,O.jsx)(b.Z,{icon:"eva:phone-fill",sx:{mr:1,width:16,height:16,color:"text.disabled"}}),(0,O.jsx)(P.Z,{variant:"body2",children:c})]}),(0,O.jsxs)(ue,{children:[(0,O.jsx)(b.Z,{icon:"eva:email-fill",sx:{mr:1,width:16,height:16,color:"text.disabled"}}),(0,O.jsx)(P.Z,{variant:"body2",children:l})]})]})})}var xe=(0,p.ZP)(I.Z)((function(e){var t=e.theme;return(0,x.Z)((0,x.Z)({},t.typography.overline),{},{height:40,borderRadius:0,padding:t.spacing(1,2),justifyContent:"space-between",color:t.palette.text.disabled})}));function pe(e){var t=e.participants,n=e.selectUserId,i=e.onShowPopupUserInfo,r=e.isCollapse,a=e.onCollapse;return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(xe,{fullWidth:!0,disableRipple:!0,color:"inherit",onClick:a,endIcon:(0,O.jsx)(b.Z,{icon:r?"eva:arrow-ios-downward-fill":"eva:arrow-ios-forward-fill",width:16,height:16}),children:["In room (",t.length,")"]}),(0,O.jsx)(m.Z,{sx:{height:r?256:0},children:(0,O.jsx)(U.Z,{children:(0,O.jsx)(S.Z,{in:r,sx:{height:r?256:0},children:(0,O.jsx)(re.Z,{disablePadding:!0,children:t.map((function(e){return(0,O.jsx)(fe,{participant:e,isOpen:n===e.id,onShowPopup:function(){return i(e.id)},onClosePopup:function(){return i(null)}},e.id)}))})})})})]})}function fe(e){var t=e.participant,n=e.isOpen,i=e.onClosePopup,r=e.onShowPopup,a=t.name,s=t.avatar,o=t.status,c=t.position;return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(ae.Z,{onClick:r,sx:{height:64,px:2.5},children:[(0,O.jsx)(se.Z,{children:(0,O.jsxs)(m.Z,{sx:{position:"relative",width:40,height:40},children:[(0,O.jsx)(X.Z,{alt:a,src:s}),(0,O.jsx)(ce.Z,{status:o,sx:{right:0,bottom:0,position:"absolute"}})]})}),(0,O.jsx)(oe.Z,{primary:a,secondary:c,primaryTypographyProps:{variant:"subtitle2",noWrap:!0},secondaryTypographyProps:{noWrap:!0}})]}),(0,O.jsx)(he,{participant:t,isOpen:n,onClose:i})]})}var ve=(0,p.ZP)((function(e){return(0,O.jsx)(v.Z,(0,x.Z)({disableRipple:!0},e))}))((function(e){var t=e.theme;return{right:0,zIndex:9,width:32,height:32,position:"absolute",top:t.spacing(1),boxShadow:t.customShadows.z8,backgroundColor:t.palette.background.paper,border:"solid 1px ".concat(t.palette.divider),borderRight:0,borderRadius:"12px 0 0 12px",transition:t.transitions.create("all"),"&:hover":{backgroundColor:t.palette.background.neutral}}})),ge=240;function me(e){var t=e.conversation,n=e.participants,r=(0,f.Z)(),a=(0,i.useState)(!0),s=(0,h.Z)(a,2),o=s[0],c=s[1],l=(0,i.useState)(!0),d=(0,h.Z)(l,2),u=d[0],p=d[1],v=(0,i.useState)(null),y=(0,h.Z)(v,2),w=y[0],k=y[1],C=(0,i.useState)(!0),I=(0,h.Z)(C,2),S=I[0],P=I[1],_=(0,i.useState)(!0),R=(0,h.Z)(_,2),W=R[0],M=R[1],T=(0,j.Z)("up","lg"),A=n.length>1;(0,i.useEffect)((function(){return T?z():F()}),[T]);var z=function(){c(!0)},F=function(){c(!1)},B=(0,O.jsxs)(O.Fragment,{children:[A?(0,O.jsx)(pe,{selectUserId:w,participants:n,isCollapse:W,onShowPopupUserInfo:function(e){return k(e)},onCollapse:function(){return M((function(e){return!e}))}}):(0,O.jsx)("div",{children:(0,O.jsx)(ie,{participants:n,isCollapse:u,onCollapse:function(){return p((function(e){return!e}))}})}),(0,O.jsx)(g.Z,{}),(0,O.jsx)(Y,{conversation:t,isCollapse:S,onCollapse:function(){return P((function(e){return!e}))}})]});return(0,O.jsxs)(m.Z,{sx:{position:"relative"},children:[(0,O.jsx)(ve,{onClick:function(){c((function(e){return!e}))},sx:(0,x.Z)({},o&&T&&{right:ge}),children:(0,O.jsx)(b.Z,{width:16,height:16,icon:o?"eva:arrow-ios-forward-fill":"eva:arrow-ios-back-fill"})}),T?(0,O.jsx)(Z.ZP,{open:o,anchor:"right",variant:"persistent",sx:(0,x.Z)((0,x.Z)({height:1,width:ge,transition:r.transitions.create("width")},!o&&{width:"0px"}),{},{"& .MuiDrawer-paper":{position:"static",width:ge}}),children:B}):(0,O.jsx)(Z.ZP,{anchor:"right",ModalProps:{keepMounted:!0},open:o,onClose:F,sx:{"& .MuiDrawer-paper":{width:ge}},children:B})]})}var Ze=n(74165),je=n(15861),be=n(97890),ye=n(35898),we=n(45987),ke=n(68278),Ce=n(17551),Ie=n(70499),Se=["images","photoIndex","setPhotoIndex","isOpen"];function Pe(){var e=(0,f.Z)(),t="rtl"===e.direction,n=e.palette.grey[600].replace("#",""),i=function(e){return"url(https://api.iconify.design/carbon/".concat(e,".svg?color=%23").concat(n,"&width=").concat(32,"&height=").concat(32,")")},r=function(t){return{opacity:1,alignItems:"center",display:"inline-flex",justifyContent:"center",backgroundImage:"unset",backgroundColor:"transparent",transition:e.transitions.create("opacity"),"&:before":{display:"block",width:32,height:32,content:i(t)},"&:hover":{opacity:.72}}};return(0,O.jsx)(Ie.Z,{styles:{"& .ReactModalPortal":{"& .ril__outer":{backgroundColor:(0,Ce.Fq)(e.palette.grey[900],.96)},"& .ril__toolbar":{height:"auto !important",padding:e.spacing(2,3),backgroundColor:"transparent"},"& .ril__toolbarLeftSide":{display:"none"},"& .ril__toolbarRightSide":{height:"auto !important",padding:0,flexGrow:1,display:"flex",alignItems:"center","& li":{display:"flex",alignItems:"center"},"& li:first-of-type":{flexGrow:1},"& li:not(:first-of-type)":{width:40,height:40,justifyContent:"center",marginLeft:e.spacing(2)}},"& button:focus":{outline:"none"},"& .ril__toolbarRightSide button":{width:"100%",height:"100%","&.ril__zoomInButton":r("zoom-in"),"&.ril__zoomOutButton":r("zoom-out"),"&.ril__closeButton":r("close")},"& .ril__navButtons":{padding:e.spacing(3),"&.ril__navButtonPrev":(0,x.Z)({right:"auto",left:e.spacing(2)},r(t?"arrow-right":"arrow-left")),"&.ril__navButtonNext":(0,x.Z)({left:"auto",right:e.spacing(2)},r(t?"arrow-left":"arrow-right"))}}}})}function _e(e){var t=e.images,n=e.photoIndex,r=e.setPhotoIndex,a=e.isOpen,s=(0,we.Z)(e,Se);(0,i.useEffect)((function(){document.body.style.overflow=a?"hidden":""}),[a]);var o=[(0,O.jsx)(P.Z,{variant:"subtitle2",children:"".concat(n+1," / ").concat(t.length)})];return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(Pe,{}),a&&(0,O.jsx)(ke.Z,(0,x.Z)({animationDuration:160,nextSrc:t[(n+1)%t.length],prevSrc:t[(n+t.length-1)%t.length],onMovePrevRequest:function(){return r((n+t.length-1)%t.length)},onMoveNextRequest:function(){return r((n+1)%t.length)},toolbarButtons:o,reactModalStyle:{overlay:{zIndex:9999}}},s))]})}var Re=n(18233),Oe=(0,p.ZP)("div")((function(e){return{display:"flex",marginBottom:e.theme.spacing(3)}})),We=(0,p.ZP)("div")((function(e){var t=e.theme;return{display:"inline-block",maxWidth:320,padding:t.spacing(1.5),marginTop:t.spacing(.5),borderRadius:t.shape.borderRadius,backgroundColor:t.palette.background.neutral}})),Me=(0,p.ZP)(P.Z)((function(e){var t=e.theme;return{display:"flex",marginBottom:t.spacing(.75),color:t.palette.text.secondary}}));function Te(e){var t=e.message,n=e.conversation,i=e.onOpenLightbox,r=n.participants.find((function(e){return e.id===t.senderId})),a="8864c717-587d-472a-929a-8e5f298024da-0"===t.senderId?{type:"me"}:{avatar:null===r||void 0===r?void 0:r.avatar,name:null===r||void 0===r?void 0:r.name},s="me"===a.type,o="image"===t.contentType,c=a.name&&a.name.split(" ")[0];return(0,O.jsx)(Oe,{children:(0,O.jsxs)(m.Z,{sx:(0,x.Z)({display:"flex"},s&&{ml:"auto"}),children:["me"!==a.type&&(0,O.jsx)(X.Z,{alt:a.name,src:a.avatar,sx:{width:32,height:32,mr:2}}),(0,O.jsxs)("div",{children:[(0,O.jsxs)(Me,{variant:"caption",sx:(0,x.Z)({},s&&{justifyContent:"flex-end"}),children:[!s&&"".concat(c,","),"\xa0",(0,Re.Z)(new Date(t.createdAt),{addSuffix:!0})]}),(0,O.jsx)(We,{sx:(0,x.Z)((0,x.Z)({},s&&{color:"grey.800",bgcolor:"primary.lighter"}),o&&{p:0}),children:o?(0,O.jsx)(R.Z,{alt:"attachment",src:t.body,onClick:function(){return i(t.body)},sx:{borderRadius:1,cursor:"pointer","&:hover":{opacity:.8}}}):(0,O.jsx)(P.Z,{variant:"body2",children:t.body})})]})]})})}function Ae(e){var t=e.conversation,n=(0,i.useRef)(null),r=(0,i.useState)(!1),a=(0,h.Z)(r,2),s=a[0],o=a[1],c=(0,i.useState)(0),l=(0,h.Z)(c,2),d=l[0],u=l[1];(0,i.useEffect)((function(){n.current&&(n.current.scrollTop=n.current.scrollHeight)}),[t.messages]);var x=t.messages.filter((function(e){return"image"===e.contentType})).map((function(e){return e.body})),p=function(e){var t=x.findIndex((function(t){return t===e}));o(!0),u(t)};return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(U.Z,{scrollableNodeProps:{ref:n},sx:{p:3,height:1},children:t.messages.map((function(e){return(0,O.jsx)(Te,{message:e,conversation:t,onOpenLightbox:p},e.id)}))}),(0,O.jsx)(_e,{images:x,mainSrc:x[d],photoIndex:d,setPhotoIndex:u,isOpen:s,onCloseRequest:function(){return o(!1)}})]})}var ze=n(33972),Fe=n(76017),Be=n(90891),De=(0,p.ZP)("div")((function(e){return{flexShrink:0,minHeight:92,display:"flex",alignItems:"center",padding:e.theme.spacing(0,3)}}));function Ee(e){var t=e.participants,n=t.length>1;return(0,O.jsxs)(De,{children:[n?(0,O.jsx)(Ge,{participants:t}):(0,O.jsx)(Le,{participants:t}),(0,O.jsx)(m.Z,{sx:{flexGrow:1}}),(0,O.jsx)(v.Z,{children:(0,O.jsx)(b.Z,{icon:"eva:phone-fill",width:20,height:20})}),(0,O.jsx)(v.Z,{children:(0,O.jsx)(b.Z,{icon:"eva:video-fill",width:20,height:20})}),(0,O.jsx)(v.Z,{children:(0,O.jsx)(b.Z,{icon:"eva:more-vertical-fill",width:20,height:20})})]})}function Le(e){var t=e.participants,n=(0,J.Z)(t)[0];return void 0!==n&&n.status?(0,O.jsxs)(m.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,O.jsxs)(m.Z,{sx:{position:"relative"},children:[(0,O.jsx)(X.Z,{src:n.avatar,alt:n.name}),(0,O.jsx)(ce.Z,{status:n.status,sx:{position:"absolute",right:2,bottom:2}})]}),(0,O.jsxs)(m.Z,{sx:{ml:2},children:[(0,O.jsx)(P.Z,{variant:"subtitle2",children:n.name}),(0,O.jsx)(P.Z,{variant:"body2",sx:{color:"text.secondary"},children:"offline"!==n.status?(0,ze.I)(n.status):(0,_.DY)(n.lastActivity||"")})]})]}):null}function Ge(e){var t=e.participants;return(0,O.jsxs)("div",{children:[(0,O.jsx)(Fe.Z,{max:3,sx:{mb:.5,"& .MuiAvatar-root":{width:32,height:32}},children:t.map((function(e){return(0,O.jsx)(X.Z,{alt:e.name,src:e.avatar},e.id)}))}),(0,O.jsx)(Be.Z,{variant:"body2",underline:"none",component:"button",color:"text.secondary",onClick:function(){},children:(0,O.jsxs)(m.Z,{sx:{display:"flex",alignItems:"center"},children:[t.length," persons",(0,O.jsx)(b.Z,{icon:"eva:arrow-ios-forward-fill"})]})})]})}var qe=n(56605),Ue=n(41727);var He=n(26638),Ne=n(92612),Ve=n(31685),Ke=n(82295),Ye=["value","setValue","disabled","sx"];function Qe(e){var t=e.value,n=e.setValue,r=e.disabled,a=e.sx,s=(0,we.Z)(e,Ye),o=(0,f.Z)(),c=(0,i.useRef)(null),l=(0,i.useState)(!1),d=(0,h.Z)(l,2),u=d[0],p=d[1];(0,i.useEffect)((function(){new Ne.cW((0,x.Z)({ref:c,data:He,onEmojiSelect:function(e){return n(t+(null===e||void 0===e?void 0:e.native))}},s))}),[u]);var g=function(e){return(0,Ce.oo)(e).replace("rgb(","").replace(")","")};return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(Ie.Z,{styles:{"#root":{"--color-border":o.palette.divider,"--rgb-accent":g(o.palette.primary.main),"--rgb-background":g(o.palette.background.paper),"--rgb-color":g(o.palette.text.secondary),"--rgb-input":"transparent"}}}),(0,O.jsx)(Ve.Z,{onClickAway:function(){return p(!1)},children:(0,O.jsxs)(m.Z,{sx:{position:"relative"},children:[(0,O.jsx)(v.Z,{disabled:r,size:"small",onClick:function(){return p(!u)},children:(0,O.jsx)(b.Z,{icon:"eva:smiling-face-fill",width:20,height:20})}),u&&(0,O.jsx)(Ke.Z,{ref:c,sx:(0,x.Z)({bottom:36,position:"absolute",boxShadow:function(e){return e.customShadows.dropdown}},a)})]})})]})}var Je=(0,p.ZP)("div")((function(e){return{minHeight:56,display:"flex",position:"relative",alignItems:"center",paddingLeft:e.theme.spacing(2)}}));function Xe(e){var t=e.disabled,n=e.conversationId,r=e.onSend,a=(0,i.useRef)(null),s=(0,i.useState)(""),o=(0,h.Z)(s,2),c=o[0],l=o[1],d=function(){var e;null===(e=a.current)||void 0===e||e.click()},u=function(){return c?(r&&n&&r({conversationId:n,messageId:"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),message:c,contentType:"text",attachments:[],createdAt:new Date,senderId:"8864c717-587d-472a-929a-8e5f298024da-0"}),l("")):""};return(0,O.jsxs)(Je,{children:[(0,O.jsx)(qe.Z,{disabled:t,fullWidth:!0,value:c,disableUnderline:!0,onKeyUp:function(e){"Enter"===e.key&&u()},onChange:function(e){return l(e.target.value)},placeholder:"Type a message",startAdornment:(0,O.jsx)(Ue.Z,{position:"start",children:(0,O.jsx)(Qe,{disabled:t,value:c,setValue:l})}),endAdornment:(0,O.jsxs)(ye.Z,{direction:"row",spacing:1,sx:{flexShrink:0,mr:1.5},children:[(0,O.jsx)(v.Z,{disabled:t,size:"small",onClick:d,children:(0,O.jsx)(b.Z,{icon:"ic:round-add-photo-alternate",width:22,height:22})}),(0,O.jsx)(v.Z,{disabled:t,size:"small",onClick:d,children:(0,O.jsx)(b.Z,{icon:"eva:attach-2-fill",width:22,height:22})}),(0,O.jsx)(v.Z,{disabled:t,size:"small",children:(0,O.jsx)(b.Z,{icon:"eva:mic-fill",width:22,height:22})})]})}),(0,O.jsx)(g.Z,{orientation:"vertical",flexItem:!0}),(0,O.jsx)(v.Z,{color:"primary",disabled:!c,onClick:u,sx:{mx:1},children:(0,O.jsx)(b.Z,{icon:"ic:round-send",width:22,height:22})}),(0,O.jsx)("input",{type:"file",ref:a,style:{display:"none"}})]})}var $e=n(4942),et=n(83870),tt=n.n(et),nt=n(46642),it=n.n(nt),rt=n(19065),at=n(66212),st=n(15082),ot=n(83393),ct=(0,p.ZP)("div")((function(e){return{display:"flex",alignItems:"center",padding:e.theme.spacing(2,3)}})),lt=(0,p.ZP)("div")((function(e){var t=e.theme;return{"& .MuiAutocomplete-root":(0,$e.Z)({width:240,marginLeft:t.spacing(2),"&.Mui-focused .MuiAutocomplete-inputRoot":{boxShadow:t.customShadows.z8}},t.breakpoints.up("sm"),{width:280}),"& .MuiAutocomplete-inputRoot":{transition:t.transitions.create("box-shadow",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.shorter}),"& fieldset":{borderWidth:"1px !important",borderColor:"".concat(t.palette.grey[50032]," !important")}}}}));function dt(e){var t=e.contacts,n=e.recipients,r=e.onAddRecipients,a=(0,i.useState)(""),s=(0,h.Z)(a,2),o=s[0],c=s[1];return(0,O.jsxs)(ct,{children:[(0,O.jsx)(P.Z,{variant:"subtitle2",sx:{color:"text.secondary"},children:"To:"}),(0,O.jsx)(lt,{children:(0,O.jsx)(rt.Z,{multiple:!0,size:"small",disablePortal:!0,popupIcon:null,noOptionsText:(0,O.jsx)(ot.Z,{searchQuery:o}),onChange:function(e,t){return function(e){c(""),r(e)}(t)},onInputChange:function(e,t){return c(t)},options:t,getOptionLabel:function(e){return e.name},renderOption:function(e,t,n){var i=n.inputValue,r=n.selected,a=t.name,s=t.avatar,o=it()(a,i),c=tt()(a,o);return(0,O.jsxs)(m.Z,(0,x.Z)((0,x.Z)({component:"li",sx:{p:"12px !important"}},e),{},{children:[(0,O.jsxs)(m.Z,{sx:{mr:1.5,width:32,height:32,overflow:"hidden",borderRadius:"50%",position:"relative"},children:[(0,O.jsx)(X.Z,{alt:a,src:s}),(0,O.jsx)(m.Z,{sx:(0,x.Z)({top:0,opacity:0,width:"100%",height:"100%",display:"flex",position:"absolute",alignItems:"center",justifyContent:"center",bgcolor:function(e){return(0,Ce.Fq)(e.palette.grey[900],.8)},transition:function(e){return e.transitions.create("opacity",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.shorter})}},r&&{opacity:1,color:"primary.main"}),children:(0,O.jsx)(b.Z,{icon:"eva:checkmark-fill",width:20,height:20})})]}),c.map((function(e,t){return(0,O.jsx)(P.Z,{variant:"subtitle2",color:e.highlight?"primary":"textPrimary",children:e.text},t)}))]}))},renderTags:function(e,t){return e.map((function(e,n){var r=e.id,a=e.name,s=e.avatar;return(0,i.createElement)(at.Z,(0,x.Z)((0,x.Z)({},t({index:n})),{},{key:r,size:"small",label:a,color:"info",avatar:(0,O.jsx)(X.Z,{alt:a,src:s})}))}))},renderInput:function(e){return(0,O.jsx)(st.Z,(0,x.Z)((0,x.Z)({},e),{},{placeholder:0===n.length?"Recipients":""}))}})})]})}function ut(){var e=(0,s.I0)(),t=(0,be.s0)(),n=(0,be.TH)().pathname,r=(0,be.UO)().conversationKey,a=(0,s.v9)((function(e){return e.chat})),l=a.contacts,d=a.recipients,u=a.participants,h=a.activeConversationId,x=(0,s.v9)((function(e){return function(e){var t=e.chat,n=t.conversations,i=t.activeConversationId,r=i?n.byId[i]:null;return r||{id:"",messages:[],participants:[],unreadCount:0,type:""}}(e)})),p=r?"DETAIL":"COMPOSE",f=u.filter((function(e){return"8864c717-587d-472a-929a-8e5f298024da-0"!==e.id}));(0,i.useEffect)((function(){var n=function(){var n=(0,je.Z)((0,Ze.Z)().mark((function n(){return(0,Ze.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e((0,o.aS)(r)),n.prev=1,n.next=4,e((0,o.cc)(r));case 4:n.next=10;break;case 6:n.prev=6,n.t0=n.catch(1),console.error(n.t0),t(c.vB.chat.new);case 10:case"end":return n.stop()}}),n,null,[[1,6]])})));return function(){return n.apply(this,arguments)}}();r?n():h&&e((0,o.PY)())}),[r]),(0,i.useEffect)((function(){h&&e((0,o.R7)(h))}),[e,h]);var v=function(){var t=(0,je.Z)((0,Ze.Z)().mark((function t(n){return(0,Ze.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{e((0,o.Bs)(n))}catch(i){console.error(i)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,O.jsxs)(ye.Z,{sx:{flexGrow:1,minWidth:"1px"},children:["DETAIL"===p?(0,O.jsx)(Ee,{participants:f}):(0,O.jsx)(dt,{recipients:d,contacts:Object.values(l.byId),onAddRecipients:function(t){e((0,o.sS)(t))}}),(0,O.jsx)(g.Z,{}),(0,O.jsxs)(m.Z,{sx:{flexGrow:1,display:"flex",overflow:"hidden"},children:[(0,O.jsxs)(ye.Z,{sx:{flexGrow:1},children:[(0,O.jsx)(Ae,{conversation:x}),(0,O.jsx)(g.Z,{}),(0,O.jsx)(Xe,{conversationId:h,onSend:v,disabled:n===c.vB.chat.root||n===c.vB.chat.new})]}),"DETAIL"===p&&(0,O.jsx)(me,{conversation:x,participants:f})]})]})}var ht=n(61689),xt=n(51405),pt=n(23931),ft=n(54285),vt=n(29101),gt=n(28100),mt=["online","invisible","away"];function Zt(){var e=(0,ft.Z)().user,t=(0,i.useState)("online"),n=(0,h.Z)(t,2),r=n[0],a=n[1],s=(0,i.useState)(null),o=(0,h.Z)(s,2),c=o[0],l=o[1],d={mr:2,width:20,height:20};return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(m.Z,{sx:{position:"relative"},children:[(0,O.jsx)(vt.Z,{onClick:function(e){l(e.currentTarget)},sx:{cursor:"pointer",width:48,height:48}}),(0,O.jsx)(ce.Z,{status:r,sx:{position:"absolute",bottom:2,right:2}})]}),(0,O.jsxs)(gt.Z,{open:Boolean(c),anchorEl:c,onClose:function(){l(null)},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"},arrow:"left-top",sx:{p:0,ml:.5,width:"auto"},children:[(0,O.jsxs)(ye.Z,{direction:"row",alignItems:"center",spacing:2,sx:{py:2,pr:1,pl:2.5},children:[(0,O.jsxs)("div",{children:[(0,O.jsx)(P.Z,{noWrap:!0,variant:"subtitle1",children:null===e||void 0===e?void 0:e.displayName}),(0,O.jsx)(P.Z,{noWrap:!0,variant:"body2",sx:{color:"text.secondary"},children:null===e||void 0===e?void 0:e.email})]}),(0,O.jsx)(ht.Z,{title:"Log out",children:(0,O.jsx)(v.Z,{color:"error",children:(0,O.jsx)(b.Z,{icon:"ic:round-power-settings-new",width:20,height:20})})})]}),(0,O.jsx)(g.Z,{}),(0,O.jsxs)(re.Z,{sx:{px:1,"& .MuiMenuItem-root":{py:1,px:2,typography:"body2",borderRadius:.75}},children:[(0,O.jsxs)(xt.Z,{children:[(0,O.jsx)(ce.Z,{size:"large",status:r,sx:{m:.5,flexShrink:0}}),(0,O.jsx)(pt.Z,{native:!0,fullWidth:!0,value:r,onChange:function(e){return a(e.target.value)},sx:{ml:2,"& svg":{display:"none"},"& select":{p:0,typography:"body2"},"& fieldset":{display:"none"}},children:mt.map((function(e){return(0,O.jsx)("option",{value:e,children:(0,ze.I)(e)},e)}))})]}),(0,O.jsxs)(xt.Z,{children:[(0,O.jsx)(b.Z,{icon:"ic:round-account-box",sx:(0,x.Z)({},d)}),"Profile"]}),(0,O.jsxs)(xt.Z,{children:[(0,O.jsx)(b.Z,{icon:"eva:settings-2-fill",sx:(0,x.Z)({},d)}),"Settings"]})]})]})]})}var jt=n(85077);function bt(e){var t=e.query,n=e.results,i=e.onSelectContact,r=n.length>0;return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(P.Z,{paragraph:!0,variant:"subtitle1",sx:{px:3,color:"text.secondary"},children:"Contacts"}),(0,O.jsx)(re.Z,{disablePadding:!0,children:n.map((function(e){return(0,O.jsxs)(ae.Z,{onClick:function(){return i(e)},sx:{py:1.5,px:3},children:[(0,O.jsx)(se.Z,{children:(0,O.jsx)(X.Z,{alt:e.name,src:e.avatar})}),(0,O.jsx)(oe.Z,{primary:e.name,primaryTypographyProps:{noWrap:!0,variant:"subtitle2"}})]},e.id)}))}),!r&&(0,O.jsx)(ot.Z,{searchQuery:t,sx:{p:3,mx:"auto",width:"calc(100% - 48px)",bgcolor:"background.neutral"}})]})}var yt=n(83145);function wt(e){var t=e.query,n=e.onChange,i=e.onFocus,r=e.onClickAway;return(0,O.jsx)(Ve.Z,{onClickAway:r,children:(0,O.jsx)(yt.Z,{fullWidth:!0,size:"small",value:t,onFocus:i,onChange:n,placeholder:"Search contacts...",InputProps:{startAdornment:(0,O.jsx)(Ue.Z,{position:"start",children:(0,O.jsx)(b.Z,{icon:"eva:search-fill",sx:{color:"text.disabled",width:20,height:20}})})},sx:{mt:2}})})}var kt=n(21421),Ct=(0,p.ZP)(ae.Z)((function(e){var t=e.theme;return{padding:t.spacing(1.5,3),transition:t.transitions.create("all")}})),It=(0,p.ZP)("div")({position:"relative",width:48,height:48,"& .MuiAvatar-img":{borderRadius:"50%"},"& .MuiAvatar-root":{width:"100%",height:"100%"}});function St(e){var t=e.isSelected,n=e.conversation,i=e.isOpenSidebar,r=e.onSelectConversation,a=function(e,t){var n=e.participants.filter((function(e){return e.id!==t})),i=n.reduce((function(e,t){return[].concat((0,J.Z)(e),[t.name])}),[]).join(", "),r="",a=e.messages[e.messages.length-1];if(a){var s=a.senderId===t?"You: ":"",o="image"===a.contentType?"Sent a photo":a.body;r="".concat(s).concat(o)}return{otherParticipants:n,displayNames:i,displayText:r}}(n,"8864c717-587d-472a-929a-8e5f298024da-0"),s=n.messages[n.messages.length-1].createdAt,o=a.otherParticipants.length>1,c=n.unreadCount>0,l=o&&a.otherParticipants.map((function(e){return e.status})).includes("online");return(0,O.jsxs)(Ct,{onClick:r,sx:(0,x.Z)({},t&&{bgcolor:"action.selected"}),children:[(0,O.jsx)(se.Z,{children:(0,O.jsxs)(m.Z,{sx:(0,x.Z)({},o&&{position:"relative",width:48,height:48,"& .avatarWrapper":{position:"absolute",width:32,height:32,"&:nth-of-type(1)":{left:0,zIndex:9,bottom:2,"& .MuiAvatar-root":{border:function(e){return"solid 2px ".concat(e.palette.background.paper)}}},"&:nth-of-type(2)":{top:2,right:0}}}),children:[a.otherParticipants.slice(0,2).map((function(e){return(0,O.jsxs)(It,{className:"avatarWrapper",children:[(0,O.jsx)(X.Z,{alt:e.name,src:e.avatar}),!o&&(0,O.jsx)(ce.Z,{status:e.status,sx:{right:2,bottom:2,position:"absolute"}})]},e.id)})),l&&(0,O.jsx)(ce.Z,{status:"online",sx:{right:2,bottom:2,position:"absolute"}})]})}),i&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(oe.Z,{primary:a.displayNames,primaryTypographyProps:{noWrap:!0,variant:"subtitle2"},secondary:a.displayText,secondaryTypographyProps:{noWrap:!0,variant:c?"subtitle2":"body2",color:c?"textPrimary":"textSecondary"}}),(0,O.jsxs)(m.Z,{sx:{ml:2,height:44,display:"flex",alignItems:"flex-end",flexDirection:"column"},children:[(0,O.jsx)(m.Z,{sx:{mb:1.25,fontSize:12,lineHeight:"22px",whiteSpace:"nowrap",color:"text.disabled"},children:(0,Re.Z)(new Date(s),{addSuffix:!1})}),c&&(0,O.jsx)(ce.Z,{status:"unread",size:"small"})]})]})]})}var Pt=["conversations","isOpenSidebar","activeConversationId","sx"];function _t(e){var t=e.conversations,n=e.isOpenSidebar,i=e.activeConversationId,r=e.sx,a=(0,we.Z)(e,Pt),s=(0,be.s0)(),o=!t.allIds.length;return(0,O.jsx)(re.Z,(0,x.Z)((0,x.Z)({disablePadding:!0,sx:r},a),{},{children:(o?(0,J.Z)(Array(12)):t.allIds).map((function(e,r){return e?(0,O.jsx)(St,{isOpenSidebar:n,conversation:t.byId[e],isSelected:i===e,onSelectConversation:function(){return function(e){var n="",i=t.byId[e];if("GROUP"===i.type)n=i.id;else{var r=i.participants.find((function(e){return"8864c717-587d-472a-929a-8e5f298024da-0"!==e.id}));null!==r&&void 0!==r&&r.username&&(n=null===r||void 0===r?void 0:r.username)}s(c.vB.chat.view(n))}(e)}},e):(0,O.jsx)(kt.i4,{},r)}))}))}var Rt=(0,p.ZP)((function(e){return(0,O.jsx)(v.Z,(0,x.Z)({disableRipple:!0},e))}))((function(e){var t=e.theme;return{left:0,zIndex:9,width:32,height:32,position:"absolute",top:t.spacing(13),borderRadius:"0 12px 12px 0",color:t.palette.primary.contrastText,backgroundColor:t.palette.primary.main,boxShadow:t.customShadows.primary,"&:hover":{backgroundColor:t.palette.primary.darker}}}));function Ot(){var e=(0,f.Z)(),t=(0,be.s0)(),n=(0,be.TH)().pathname,r=(0,i.useState)(!0),a=(0,h.Z)(r,2),o=a[0],l=a[1],d=(0,i.useState)(""),u=(0,h.Z)(d,2),p=u[0],g=u[1],y=(0,i.useState)([]),w=(0,h.Z)(y,2),k=w[0],C=w[1],I=(0,i.useState)(!1),S=(0,h.Z)(I,2),P=S[0],_=S[1],R=(0,s.v9)((function(e){return e.chat})),W=R.conversations,M=R.activeConversationId,T=(0,j.Z)("up","md"),A=p&&P,z=T&&!o;(0,i.useEffect)((function(){return T?F():B()}),[T,n]),(0,i.useEffect)((function(){if(!o)return _(!1)}),[o]);var F=function(){l(!0)},B=function(){l(!1)},D=function(){l((function(e){return!e}))},E=function(){var e=(0,je.Z)((0,Ze.Z)().mark((function e(t){var n,i;return(0,Ze.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=t.target.value,g(n),!n){e.next=10;break}return e.next=6,jt.Z.get("/api/chat/search",{params:{query:n}});case 6:i=e.sent,C(i.data.results),e.next=11;break;case 10:C([]);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),L=function(e){_(!1),g(""),t(c.vB.chat.view(e))},G=(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(m.Z,{sx:{py:2,px:3},children:[(0,O.jsxs)(ye.Z,{direction:"row",alignItems:"center",justifyContent:"center",children:[!z&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(Zt,{}),(0,O.jsx)(m.Z,{sx:{flexGrow:1}})]}),(0,O.jsx)(v.Z,{onClick:D,children:(0,O.jsx)(b.Z,{width:20,height:20,icon:o?"eva:arrow-ios-back-fill":"eva:arrow-ios-forward-fill"})}),!z&&(0,O.jsx)(v.Z,{onClick:function(){return t(c.vB.chat.new)},children:(0,O.jsx)(b.Z,{icon:"eva:edit-fill",width:20,height:20})})]}),!z&&(0,O.jsx)(wt,{query:p,onFocus:function(){_(!0)},onChange:E,onClickAway:function(){_(!1),g("")}})]}),(0,O.jsx)(U.Z,{children:A?(0,O.jsx)(bt,{query:p,results:k,onSelectContact:function(e){L&&L(e.username)}}):(0,O.jsx)(_t,{conversations:W,isOpenSidebar:o,activeConversationId:M,sx:(0,x.Z)({},P&&{display:"none"})})})]});return(0,O.jsxs)(O.Fragment,{children:[!T&&(0,O.jsx)(Rt,{onClick:D,children:(0,O.jsx)(b.Z,{width:16,height:16,icon:"eva:people-fill"})}),T?(0,O.jsx)(Z.ZP,{open:o,variant:"persistent",sx:(0,x.Z)({width:320,transition:e.transitions.create("width"),"& .MuiDrawer-paper":{position:"static",width:320}},z&&{width:96,"& .MuiDrawer-paper":{width:96,position:"static",transform:"none !important",visibility:"visible !important"}}),children:G}):(0,O.jsx)(Z.ZP,{ModalProps:{keepMounted:!0},open:o,onClose:B,sx:{"& .MuiDrawer-paper":{width:320}},children:G})]})}function Wt(){var e=(0,l.Z)().themeStretch,t=(0,s.I0)();return(0,i.useEffect)((function(){t((0,o.uv)()),t((0,o.K2)())}),[t]),(0,O.jsx)(d.Z,{title:"Chat",children:(0,O.jsxs)(r.Z,{maxWidth:!e&&"xl",children:[(0,O.jsx)(u.Z,{heading:"Chat",links:[{name:"Dashboard",href:c.vB.root},{name:"Chat"}]}),(0,O.jsxs)(a.Z,{sx:{height:"72vh",display:"flex"},children:[(0,O.jsx)(Ot,{}),(0,O.jsx)(ut,{})]})]})})}}}]);