const _0x424a7e=_0x1260;function _0x1260(_0x4a5c58,_0x2800bb){const _0x7670ac=_0x7670();return _0x1260=function(_0x126016,_0x47aab2){_0x126016=_0x126016-0x1da;let _0x4d54b1=_0x7670ac[_0x126016];return _0x4d54b1;},_0x1260(_0x4a5c58,_0x2800bb);}(function(_0x23a887,_0x595380){const _0x3b2c31=_0x1260,_0x595123=_0x23a887();while(!![]){try{const _0x45807b=parseInt(_0x3b2c31(0x1fc))/0x1*(parseInt(_0x3b2c31(0x1e8))/0x2)+parseInt(_0x3b2c31(0x218))/0x3*(-parseInt(_0x3b2c31(0x1e5))/0x4)+parseInt(_0x3b2c31(0x1f7))/0x5*(-parseInt(_0x3b2c31(0x205))/0x6)+-parseInt(_0x3b2c31(0x1ff))/0x7*(-parseInt(_0x3b2c31(0x20a))/0x8)+parseInt(_0x3b2c31(0x212))/0x9*(-parseInt(_0x3b2c31(0x215))/0xa)+-parseInt(_0x3b2c31(0x209))/0xb*(-parseInt(_0x3b2c31(0x1e1))/0xc)+parseInt(_0x3b2c31(0x1e0))/0xd*(parseInt(_0x3b2c31(0x20d))/0xe);if(_0x45807b===_0x595380)break;else _0x595123['push'](_0x595123['shift']());}catch(_0x31361f){_0x595123['push'](_0x595123['shift']());}}}(_0x7670,0x42e92));const express=require('express'),cors=require(_0x424a7e(0x1fa)),mongoose=require(_0x424a7e(0x217)),authRoutes=require(_0x424a7e(0x207)),serverRoutes=require(_0x424a7e(0x211)),ticketRoutes=require('./routes/tickets'),paymentRoutes=require(_0x424a7e(0x1e3)),webhostingRoutes=require(_0x424a7e(0x1de)),licenseRoutes=require(_0x424a7e(0x21f)),devRoutes=require(_0x424a7e(0x1f4)),app=express(),{sessionSecrets,corsOrigin,licenseKey}=require('./config.json'),session=require(_0x424a7e(0x221)),socket=require('socket.io');require(_0x424a7e(0x206))[_0x424a7e(0x200)]();var cookieParser=require('cookie-parser');const {getLicense}=require(_0x424a7e(0x20c)),path=require(_0x424a7e(0x1f8));app['use'](cookieParser()),app[_0x424a7e(0x208)](cors()),app[_0x424a7e(0x208)](express['json']()),app[_0x424a7e(0x1f9)]('trust\x20proxy',0x1),app['use'](session({'secret':sessionSecrets,'resave':!![],'saveUninitialized':!![],'name':'X-Panel_USER_PRIV_INFO','cookie':{'secure':![],'maxAge':0xea60}}));process['env'][_0x424a7e(0x20f)]===_0x424a7e(0x1eb)?mongoose[_0x424a7e(0x1f0)](process[_0x424a7e(0x201)][_0x424a7e(0x20b)],{'useNewUrlParser':!![],'useUnifiedTopology':!![],'auth':{'username':process[_0x424a7e(0x201)]['MONGO_USER'],'password':process['env'][_0x424a7e(0x1f5)],'atuhdb':process['env'][_0x424a7e(0x1f2)]}})['then'](()=>{const _0x2dd49f=_0x424a7e;console['log'](_0x2dd49f(0x20e));})[_0x424a7e(0x1e7)](_0x55d668=>{const _0x56f831=_0x424a7e;console['log'](_0x55d668[_0x56f831(0x1ec)]);}):mongoose[_0x424a7e(0x1f0)](process['env'][_0x424a7e(0x20b)],{'useNewUrlParser':!![],'useUnifiedTopology':!![]})['then'](()=>{const _0x4c528b=_0x424a7e;console['log'](_0x4c528b(0x20e));})[_0x424a7e(0x1e7)](_0x10eb77=>{const _0x21a058=_0x424a7e;console[_0x21a058(0x1e4)](_0x10eb77['message']);});function _0x7670(){const _0x3a8392=['express-session','License\x20Key\x20Valid','/api/server','License\x20key\x20failed\x20to\x20authenticate.\x20','sendFile','./routes/webhosting','System','13SrPlUa','12pDaEmM','/api/ticket','./routes/payments','log','32akxixU','status','catch','570mXxmLP','nextPurchaseTime','./models/verifyCodes','production','message','forEach','updateOne','static','connect','PORT','MONGO_DB','now','./routes/dev','MONGO_PWD','banUser','50qNGXbY','path','set','cors','connection','869MouGNL','find','/api/auth','2009406LhyOXd','config','env','msg','_id','add-user','139956uLZvfF','dotenv','./routes/auth','use','2662286DakvtS','8Eejagi','MONGOURL','./functions','169190DVdTja','DB\x20Connetion\x20Successfull','ENVIRONMENT','bannedUser','./routes/servers','9PJwTer','openTickets','floor','1863320ZPtfyE','msg-recieve','mongoose','35691ekyOZq','ticket','join','emit','/api/licensing','You\x27ve\x20been\x20banned.','site/index.html','./routes/licensing','get'];_0x7670=function(){return _0x3a8392;};return _0x7670();}app[_0x424a7e(0x208)](express[_0x424a7e(0x1ef)](path['join'](__dirname,'site'))),app['use'](_0x424a7e(0x21c),licenseRoutes),((async()=>{const _0x4b6a24=_0x424a7e,_0x51703f=await getLicense(licenseKey);_0x51703f===!![]?(console['log'](_0x4b6a24(0x1da)),app[_0x4b6a24(0x208)](_0x4b6a24(0x1fe),authRoutes),app['use'](_0x4b6a24(0x1db),serverRoutes),app[_0x4b6a24(0x208)](_0x4b6a24(0x1e2),ticketRoutes),app[_0x4b6a24(0x208)]('/api/payments',paymentRoutes),app['use']('/api/webhosting',webhostingRoutes),app['use']('/api/dev',devRoutes),app[_0x4b6a24(0x220)]('*',(_0x43ba84,_0x48a350)=>{const _0x583b89=_0x4b6a24;_0x48a350[_0x583b89(0x1dd)](path['join'](__dirname,_0x583b89(0x21e)));})):(console[_0x4b6a24(0x1e4)](_0x4b6a24(0x1dc)),app['use']((_0x5196b1,_0x5ec881,_0x29c283)=>{const _0x21e8ab=_0x4b6a24;_0x5ec881[_0x21e8ab(0x1e6)](0x194)['send']('It\x20seems\x20this\x20application\x20is\x20not\x20licensed.\x20Please\x20contact\x20support.');}));})());const server=app['listen'](process[_0x424a7e(0x201)][_0x424a7e(0x1f1)],()=>console[_0x424a7e(0x1e4)]('Server\x20started\x20on\x20'+process['env']['PORT'])),io=socket(server,{'cors':{'origin':corsOrigin,'credentials':!![]}});global['onlineUsers']=new Map(),global[_0x424a7e(0x213)]=new Map(),io['on'](_0x424a7e(0x1fb),_0x337bbe=>{const _0x4a24cc=_0x424a7e;global['chatSocket']=_0x337bbe,_0x337bbe['on'](_0x4a24cc(0x204),(_0x49a51d,_0x3cb6de)=>{const _0x244b0b=_0x4a24cc;onlineUsers[_0x244b0b(0x1f9)](_0x49a51d,_0x3cb6de),_0x337bbe[_0x244b0b(0x21a)](_0x3cb6de);}),_0x337bbe['on'](_0x4a24cc(0x1f6),_0x3a0edb=>{const _0x19a0f1=_0x4a24cc,_0x288c80=onlineUsers['get'](_0x3a0edb['to']);_0x288c80&&_0x337bbe['to'](_0x288c80)['emit'](_0x19a0f1(0x210),{'msg':_0x19a0f1(0x21d),'from':_0x19a0f1(0x1df)});}),_0x337bbe['on']('send-ticket-msg',_0x328d43=>{const _0x3e07d2=_0x4a24cc;console[_0x3e07d2(0x1e4)](_0x328d43),_0x337bbe['to'](_0x328d43[_0x3e07d2(0x219)])[_0x3e07d2(0x21b)](_0x3e07d2(0x216),{'msg':_0x328d43[_0x3e07d2(0x202)],'user':_0x328d43['fromUser']});});}),setTimeout(()=>{setInterval(()=>{(async function(){const _0x4b33c8=_0x1260,_0x5a509a=require('./models/subscriptions'),_0x1e07b5=await _0x5a509a['find']();_0x1e07b5[_0x4b33c8(0x1ed)](_0x3c2f59=>{(async function(){const _0x20c829=_0x1260;Math[_0x20c829(0x214)](Date[_0x20c829(0x1f3)]()/0x3e8)>=_0x3c2f59[_0x20c829(0x1e9)]&&await _0x5a509a[_0x20c829(0x1ee)]({'_id':_0x3c2f59[_0x20c829(0x203)]},{'nextPurchaseTime':Math[_0x20c829(0x214)](Date[_0x20c829(0x1f3)]()/0x3e8)+0x278d00});}());});}());},0xa);},0x14),setTimeout(()=>{setInterval(()=>{(async function(){const _0x461502=_0x1260,_0x327830=require(_0x461502(0x1ea)),_0x5a0d12=await _0x327830[_0x461502(0x1fd)]();_0x5a0d12[_0x461502(0x1ed)](_0x413f4d=>{(async function(){const _0x411809=_0x1260;Math[_0x411809(0x214)](Date[_0x411809(0x1f3)]()/0x3e8)>=_0x413f4d['expires']&&await _0x327830['deleteOne']({'_id':_0x413f4d['_id']});}());});}());},0xa);},0x14);