const _0x3f0475=_0x3d55;(function(_0x57f735,_0x3c1220){const _0x137f8d=_0x3d55,_0x1ee10e=_0x57f735();while(!![]){try{const _0x1d3f41=parseInt(_0x137f8d(0x158))/0x1*(-parseInt(_0x137f8d(0x16c))/0x2)+parseInt(_0x137f8d(0x15e))/0x3*(parseInt(_0x137f8d(0x164))/0x4)+-parseInt(_0x137f8d(0x160))/0x5+-parseInt(_0x137f8d(0x14a))/0x6+-parseInt(_0x137f8d(0x167))/0x7+-parseInt(_0x137f8d(0x15c))/0x8+parseInt(_0x137f8d(0x13d))/0x9;if(_0x1d3f41===_0x3c1220)break;else _0x1ee10e['push'](_0x1ee10e['shift']());}catch(_0xab51bb){_0x1ee10e['push'](_0x1ee10e['shift']());}}}(_0x8428,0xba1e7));const express=require('express'),cors=require('cors'),mongoose=require(_0x3f0475(0x144)),authRoutes=require(_0x3f0475(0x146)),serverRoutes=require(_0x3f0475(0x169)),ticketRoutes=require(_0x3f0475(0x154)),paymentRoutes=require(_0x3f0475(0x161)),webhostingRoutes=require(_0x3f0475(0x148)),productRoutes=require('./routes/products'),licenseRoutes=require(_0x3f0475(0x133)),devRoutes=require(_0x3f0475(0x137)),app=express(),{sessionSecrets,corsOrigin,licenseKey}=require(_0x3f0475(0x142)),session=require(_0x3f0475(0x15f)),socket=require(_0x3f0475(0x173));require(_0x3f0475(0x14d))[_0x3f0475(0x170)]();var cookieParser=require(_0x3f0475(0x139));function _0x3d55(_0x4a8932,_0x5aaa19){const _0x84289e=_0x8428();return _0x3d55=function(_0x3d5518,_0x1226bc){_0x3d5518=_0x3d5518-0x130;let _0x2f4ff7=_0x84289e[_0x3d5518];return _0x2f4ff7;},_0x3d55(_0x4a8932,_0x5aaa19);}function _0x8428(){const _0x8fb803=['/api/payments','MONGOURL','4344ZXASRe','message','use','2636025DeYOuB','onlineUsers','./routes/servers','/api/server','License\x20key\x20failed\x20to\x20authenticate.\x20','871958PpdvwE','MONGO_USER','X-Panel_INFO','catch','config','PORT','fromUser','socket.io','/api/webhosting','path','then','System','session','msg-recieve','./routes/licensing','sendFile','MONGO_DB','License\x20Key\x20Valid','./routes/dev','status','cookie-parser','ticket','ENVIRONMENT','send','35552808jDflhH','json','site','add-user','/api/dev','./config.json','connect','mongoose','join','./routes/auth','It\x20seems\x20this\x20application\x20is\x20not\x20licensed.\x20Please\x20contact\x20support.','./routes/webhosting','DB\x20Connetion\x20Successfull','1077936AJogzU','./strategies/discord','passport','dotenv','initialize','Server\x20started\x20on\x20','get','msg','bannedUser','MONGO_PWD','./routes/tickets','emit','log','node-fetch','3jGdkZX','env','MemoryStore','connection','7635512gMwPhH','banUser','411jAKzPI','express-session','2590720gHjWRY','./routes/payments'];_0x8428=function(){return _0x8fb803;};return _0x8428();}const fetch=require(_0x3f0475(0x157)),{getLicense}=require('./functions'),passport=require(_0x3f0475(0x14c));require(_0x3f0475(0x14b));const path=require(_0x3f0475(0x175));require('./bot/JFR');var MemoryStore=session[_0x3f0475(0x15a)];app[_0x3f0475(0x166)](cookieParser()),app[_0x3f0475(0x166)](cors()),app[_0x3f0475(0x166)](express[_0x3f0475(0x13e)]()),app[_0x3f0475(0x166)](session({'secret':sessionSecrets,'resave':!![],'saveUninitialized':![],'name':_0x3f0475(0x16e),'store':new MemoryStore(),'cookie':{'expires':0xf4240}})),app[_0x3f0475(0x166)](passport[_0x3f0475(0x14e)]()),app[_0x3f0475(0x166)](passport[_0x3f0475(0x131)]());process['env'][_0x3f0475(0x13b)]==='production'?mongoose[_0x3f0475(0x143)](process[_0x3f0475(0x159)][_0x3f0475(0x163)],{'useNewUrlParser':!![],'useUnifiedTopology':!![],'auth':{'username':process['env'][_0x3f0475(0x16d)],'password':process[_0x3f0475(0x159)][_0x3f0475(0x153)],'atuhdb':process[_0x3f0475(0x159)][_0x3f0475(0x135)]}})[_0x3f0475(0x176)](()=>{const _0xcb0ad2=_0x3f0475;console[_0xcb0ad2(0x156)](_0xcb0ad2(0x149));})[_0x3f0475(0x16f)](_0x29e632=>{const _0x315a34=_0x3f0475;console[_0x315a34(0x156)](_0x29e632[_0x315a34(0x165)]);}):mongoose[_0x3f0475(0x143)](process['env'][_0x3f0475(0x163)],{'useNewUrlParser':!![],'useUnifiedTopology':!![]})['then'](()=>{const _0x358e2d=_0x3f0475;console[_0x358e2d(0x156)](_0x358e2d(0x149));})['catch'](_0x5913bc=>{const _0x4da7df=_0x3f0475;console[_0x4da7df(0x156)](_0x5913bc['message']);});app[_0x3f0475(0x166)](express['static'](path[_0x3f0475(0x145)](__dirname,_0x3f0475(0x13f)))),app['use']('/api/licensing',licenseRoutes),((async()=>{const _0x546f64=_0x3f0475,_0x2e9397=await getLicense(licenseKey);_0x2e9397===!![]?(console['log'](_0x546f64(0x136)),app[_0x546f64(0x166)]('/api/auth',authRoutes),app[_0x546f64(0x166)](_0x546f64(0x16a),serverRoutes),app['use']('/api/ticket',ticketRoutes),app[_0x546f64(0x166)](_0x546f64(0x162),paymentRoutes),app[_0x546f64(0x166)](_0x546f64(0x174),webhostingRoutes),app[_0x546f64(0x166)](_0x546f64(0x141),devRoutes),app[_0x546f64(0x150)]('*',(_0x4ba7a0,_0x8ae53e)=>{const _0x27d863=_0x546f64;_0x8ae53e[_0x27d863(0x134)](path['join'](__dirname,'site/index.html'));})):(console['log'](_0x546f64(0x16b)),app[_0x546f64(0x166)]((_0x2b7503,_0x19fe67,_0x20eb92)=>{const _0x57a38e=_0x546f64;_0x19fe67[_0x57a38e(0x138)](0x194)[_0x57a38e(0x13c)](_0x57a38e(0x147));}));})());const server=app['listen'](process[_0x3f0475(0x159)][_0x3f0475(0x171)],()=>console[_0x3f0475(0x156)](_0x3f0475(0x14f)+process['env'][_0x3f0475(0x171)])),io=socket(server,{'cors':{'origin':corsOrigin,'credentials':!![]}});global[_0x3f0475(0x168)]=new Map(),global['openTickets']=new Map(),io['on'](_0x3f0475(0x15b),_0x2b91fc=>{const _0x300539=_0x3f0475;global['chatSocket']=_0x2b91fc,_0x2b91fc['on'](_0x300539(0x140),(_0x2c2018,_0x183561)=>{const _0x404c80=_0x300539;onlineUsers['set'](_0x2c2018,_0x183561),_0x2b91fc[_0x404c80(0x145)](_0x183561);}),_0x2b91fc['on'](_0x300539(0x15d),_0x26cb9c=>{const _0x7f7233=_0x300539,_0x11c84c=onlineUsers[_0x7f7233(0x150)](_0x26cb9c['to']);_0x11c84c&&_0x2b91fc['to'](_0x11c84c)[_0x7f7233(0x155)](_0x7f7233(0x152),{'msg':'You\x27ve\x20been\x20banned.','from':_0x7f7233(0x130)});}),_0x2b91fc['on']('send-ticket-msg',_0x1e573e=>{const _0xc06b05=_0x300539;console[_0xc06b05(0x156)](_0x1e573e),_0x2b91fc['to'](_0x1e573e[_0xc06b05(0x13a)])['emit'](_0xc06b05(0x132),{'msg':_0x1e573e[_0xc06b05(0x151)],'user':_0x1e573e[_0xc06b05(0x172)]});});});