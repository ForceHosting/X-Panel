const _0x44245d=_0x325f;function _0x51f7(){const _0xf9837e=['status','emit','path','ticket','log','/api/ticket','12309831jMuKOF','3558715JvbOWI','connect','updateOne','You\x27ve\x20been\x20banned.','bannedUser','join','./routes/licensing','/api/licensing','https://us.my.forcehost.net','23zMxoud','/api/dev','52ZzCVwF','MONGO_DB','./routes/misc','deleteOne','now','msg-recieve','trust\x20proxy','forEach','onlineUsers','cookie-parser','1087614yRehTE','MONGOURL','./models/subscriptions','set','chatSocket','MONGO_PWD','DB\x20Connetion\x20Successfull','find','openTickets','listen','cors','14397wAcROX','35174miZxxq','./renewalSystem','License\x20Key\x20Valid','expires','./routes/webhosting','10zDtIJr','dotenv','System','floor','685853bWcTVP','_id','use','get','It\x20seems\x20this\x20application\x20is\x20not\x20licensed.\x20Please\x20contact\x20support.','/api/webhosting','config','./functions','mongoose','MONGO_USER','/api','socket.io','env','nextPurchaseTime','ENVIRONMENT','banUser','fromUser','/api/auth','send','then','site','static','./routes/tickets','./routes/auth','catch','./config.json','3162600XxyWJe','msg'];_0x51f7=function(){return _0xf9837e;};return _0x51f7();}(function(_0x100ada,_0x1682f3){const _0x42949c=_0x325f,_0x33cb7e=_0x100ada();while(!![]){try{const _0x493c9b=parseInt(_0x42949c(0x12f))/0x1*(-parseInt(_0x42949c(0x147))/0x2)+-parseInt(_0x42949c(0x146))/0x3*(-parseInt(_0x42949c(0x131))/0x4)+-parseInt(_0x42949c(0x126))/0x5+-parseInt(_0x42949c(0x13b))/0x6+-parseInt(_0x42949c(0x150))/0x7+parseInt(_0x42949c(0x11d))/0x8+-parseInt(_0x42949c(0x125))/0x9*(-parseInt(_0x42949c(0x14c))/0xa);if(_0x493c9b===_0x1682f3)break;else _0x33cb7e['push'](_0x33cb7e['shift']());}catch(_0x30c985){_0x33cb7e['push'](_0x33cb7e['shift']());}}}(_0x51f7,0x68f9b));const express=require('express'),cors=require(_0x44245d(0x145)),mongoose=require(_0x44245d(0x158)),authRoutes=require(_0x44245d(0x167)),serverRoutes=require('./routes/servers'),ticketRoutes=require(_0x44245d(0x166)),paymentRoutes=require('./routes/payments'),webhostingRoutes=require(_0x44245d(0x14b)),licenseRoutes=require(_0x44245d(0x12c)),miscRoutes=require(_0x44245d(0x133)),devRoutes=require('./routes/dev'),app=express(),{sessionSecrets,corsOrigin,licenseKey,serverPort}=require(_0x44245d(0x169)),session=require('express-session'),socket=require(_0x44245d(0x15b));require(_0x44245d(0x14d))[_0x44245d(0x156)]();var cookieParser=require(_0x44245d(0x13a));const {getLicense}=require(_0x44245d(0x157)),path=require(_0x44245d(0x121));app[_0x44245d(0x152)](cookieParser());const cOpt={'origin':[_0x44245d(0x12e),'https://my.forcehost.net','http://localhost:3000']};app['use'](cors(cOpt)),app[_0x44245d(0x152)](express['json']()),app[_0x44245d(0x13e)](_0x44245d(0x137),0x1),app[_0x44245d(0x152)](session({'secret':sessionSecrets,'resave':!![],'saveUninitialized':!![],'name':'X-Panel_USER_PRIV_INFO','cookie':{'secure':![],'maxAge':0xea60}}));process['env'][_0x44245d(0x15e)]==='production'?mongoose[_0x44245d(0x127)](process[_0x44245d(0x15c)]['MONGOURL'],{'useNewUrlParser':!![],'useUnifiedTopology':!![],'auth':{'username':process[_0x44245d(0x15c)][_0x44245d(0x159)],'password':process[_0x44245d(0x15c)][_0x44245d(0x140)],'atuhdb':process['env'][_0x44245d(0x132)]}})[_0x44245d(0x163)](()=>{const _0x4097c5=_0x44245d;console[_0x4097c5(0x123)](_0x4097c5(0x141));})[_0x44245d(0x168)](_0x4b66c8=>{const _0x4b4f45=_0x44245d;console[_0x4b4f45(0x123)](_0x4b66c8['message']);}):mongoose[_0x44245d(0x127)](process[_0x44245d(0x15c)][_0x44245d(0x13c)],{'useNewUrlParser':!![],'useUnifiedTopology':!![]})['then'](()=>{const _0x1376aa=_0x44245d;console[_0x1376aa(0x123)]('DB\x20Connetion\x20Successfull');})[_0x44245d(0x168)](_0x58c31b=>{console['log'](_0x58c31b['message']);});function _0x325f(_0x22949c,_0x47ad26){const _0x51f789=_0x51f7();return _0x325f=function(_0x325f0a,_0x350f3a){_0x325f0a=_0x325f0a-0x11d;let _0x1ca333=_0x51f789[_0x325f0a];return _0x1ca333;},_0x325f(_0x22949c,_0x47ad26);}app[_0x44245d(0x152)](express[_0x44245d(0x165)](path['join'](__dirname,_0x44245d(0x164)))),app[_0x44245d(0x152)](_0x44245d(0x12d),licenseRoutes),((async()=>{const _0x3acd96=_0x44245d,_0x46126c=await getLicense(licenseKey);_0x46126c===!![]?(console['log'](_0x3acd96(0x149)),app[_0x3acd96(0x152)](_0x3acd96(0x161),authRoutes),app[_0x3acd96(0x152)]('/api/server',serverRoutes),app[_0x3acd96(0x152)](_0x3acd96(0x124),ticketRoutes),app[_0x3acd96(0x152)]('/api/payments',paymentRoutes),app['use'](_0x3acd96(0x155),webhostingRoutes),app['use'](_0x3acd96(0x130),devRoutes),app['use'](_0x3acd96(0x15a),miscRoutes),app[_0x3acd96(0x153)]('*',(_0x2cbdf8,_0x17d336)=>{const _0x2515bf=_0x3acd96;_0x17d336['sendFile'](path[_0x2515bf(0x12b)](__dirname,'site/index.html'));})):(console[_0x3acd96(0x123)]('License\x20key\x20failed\x20to\x20authenticate.\x20'),app['use']((_0x23cd69,_0x424de9,_0x3855fb)=>{const _0x5f5449=_0x3acd96;_0x424de9[_0x5f5449(0x11f)](0x194)[_0x5f5449(0x162)](_0x5f5449(0x154));}));})());const server=app[_0x44245d(0x144)](serverPort,()=>console[_0x44245d(0x123)]('Server\x20started\x20on\x20'+serverPort)),io=socket(server,{'cors':{'origin':corsOrigin,'credentials':!![]}});global[_0x44245d(0x139)]=new Map(),global[_0x44245d(0x143)]=new Map(),io['on']('connection',_0x530421=>{const _0x772c9b=_0x44245d;global[_0x772c9b(0x13f)]=_0x530421,_0x530421['on']('add-user',(_0x2235b2,_0x4396c9)=>{const _0x202bc1=_0x772c9b;onlineUsers[_0x202bc1(0x13e)](_0x2235b2,_0x4396c9),_0x530421[_0x202bc1(0x12b)](_0x4396c9);}),_0x530421['on'](_0x772c9b(0x15f),_0x1c357b=>{const _0x217a75=_0x772c9b,_0x170f70=onlineUsers[_0x217a75(0x153)](_0x1c357b['to']);_0x170f70&&_0x530421['to'](_0x170f70)[_0x217a75(0x120)](_0x217a75(0x12a),{'msg':_0x217a75(0x129),'from':_0x217a75(0x14e)});}),_0x530421['on']('send-ticket-msg',_0x342031=>{const _0x53622e=_0x772c9b;console[_0x53622e(0x123)](_0x342031),_0x530421['to'](_0x342031[_0x53622e(0x122)])[_0x53622e(0x120)](_0x53622e(0x136),{'msg':_0x342031[_0x53622e(0x11e)],'user':_0x342031[_0x53622e(0x160)]});});}),setTimeout(()=>{setInterval(()=>{(async function(){const _0x5d977c=_0x325f,_0x2b8f97=require(_0x5d977c(0x13d)),_0x1a2270=await _0x2b8f97[_0x5d977c(0x142)]();_0x1a2270[_0x5d977c(0x138)](_0x16d134=>{(async function(){const _0x50e1f9=_0x325f;Math[_0x50e1f9(0x14f)](Date[_0x50e1f9(0x135)]()/0x3e8)>=_0x16d134[_0x50e1f9(0x15d)]&&await _0x2b8f97[_0x50e1f9(0x128)]({'_id':_0x16d134[_0x50e1f9(0x151)]},{'nextPurchaseTime':Math[_0x50e1f9(0x14f)](Date[_0x50e1f9(0x135)]()/0x3e8)+0x278d00});}());});}());},0xa);},0x14),setTimeout(()=>{setInterval(()=>{(async function(){const _0x4a3808=_0x325f,_0x253e6b=require('./models/verifyCodes'),_0x4db32c=await _0x253e6b[_0x4a3808(0x142)]();_0x4db32c[_0x4a3808(0x138)](_0x168864=>{(async function(){const _0x16c68a=_0x325f;Math[_0x16c68a(0x14f)](Date[_0x16c68a(0x135)]()/0x3e8)>=_0x168864[_0x16c68a(0x14a)]&&await _0x253e6b[_0x16c68a(0x134)]({'_id':_0x168864['_id']});}());});}());},0xa);},0x14),require(_0x44245d(0x148));