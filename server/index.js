const _0x2e2084=_0x1cbe;(function(_0x38a501,_0x2f0360){const _0x302428=_0x1cbe,_0x1abd39=_0x38a501();while(!![]){try{const _0x2f1b58=-parseInt(_0x302428(0xd3))/0x1+-parseInt(_0x302428(0xd6))/0x2*(parseInt(_0x302428(0xee))/0x3)+-parseInt(_0x302428(0xc6))/0x4+parseInt(_0x302428(0x100))/0x5*(-parseInt(_0x302428(0xf0))/0x6)+parseInt(_0x302428(0xd2))/0x7*(-parseInt(_0x302428(0xdb))/0x8)+parseInt(_0x302428(0xc2))/0x9+-parseInt(_0x302428(0xda))/0xa*(-parseInt(_0x302428(0xe7))/0xb);if(_0x2f1b58===_0x2f0360)break;else _0x1abd39['push'](_0x1abd39['shift']());}catch(_0x1f9cbc){_0x1abd39['push'](_0x1abd39['shift']());}}}(_0xc3e6,0x456b6));const express=require('express'),cors=require(_0x2e2084(0xd7)),mongoose=require(_0x2e2084(0xbb)),authRoutes=require(_0x2e2084(0xd8)),serverRoutes=require(_0x2e2084(0xf7)),ticketRoutes=require(_0x2e2084(0xe5)),paymentRoutes=require(_0x2e2084(0xc9)),webhostingRoutes=require('./routes/webhosting'),licenseRoutes=require(_0x2e2084(0xea)),miscRoutes=require(_0x2e2084(0xdc)),devRoutes=require(_0x2e2084(0xc4)),app=express(),{sessionSecrets,corsOrigin,licenseKey,serverPort}=require(_0x2e2084(0xdd)),session=require(_0x2e2084(0xb7)),socket=require(_0x2e2084(0xef));require('dotenv')[_0x2e2084(0xde)]();var cookieParser=require(_0x2e2084(0xcc));function _0xc3e6(){const _0x2bb1c2=['_id','130ZQlmHb','express-session','/api/server','/api/ticket','ticket','mongoose','./models/verifyCodes','now','listen','then','nextPurchaseTime','get','3132234eeyHdN','fromUser','./routes/dev','onlineUsers','646220IpxdOe','openTickets','log','./routes/payments','add-user','MONGO_DB','cookie-parser','send','MONGOURL','msg-recieve','connect','join','38199NwKNRK','390876ImqRFg','catch','/api/webhosting','106604MxqiGy','cors','./routes/auth','json','239090mFbWiz','592WCTDOY','./routes/misc','./config.json','config','/api/auth','static','License\x20key\x20failed\x20to\x20authenticate.\x20','env','DB\x20Connetion\x20Successfull','site','./routes/tickets','find','759GTBDFH','/api','You\x27ve\x20been\x20banned.','./routes/licensing','banUser','floor','site/index.html','15cpIhWC','socket.io','113226mKudfl','forEach','/api/licensing','MONGO_USER','send-ticket-msg','set','connection','./routes/servers','sendFile','use','emit','bannedUser','message','path','production'];_0xc3e6=function(){return _0x2bb1c2;};return _0xc3e6();}function _0x1cbe(_0x4f9bcb,_0x12ff5f){const _0xc3e658=_0xc3e6();return _0x1cbe=function(_0x1cbe90,_0x43fa47){_0x1cbe90=_0x1cbe90-0xb7;let _0x2cd8f8=_0xc3e658[_0x1cbe90];return _0x2cd8f8;},_0x1cbe(_0x4f9bcb,_0x12ff5f);}const {getLicense}=require('./functions'),path=require(_0x2e2084(0xfd));app[_0x2e2084(0xf9)](cookieParser()),app[_0x2e2084(0xf9)](cors()),app[_0x2e2084(0xf9)](express[_0x2e2084(0xd9)]()),app['set']('trust\x20proxy',0x1),app[_0x2e2084(0xf9)](session({'secret':sessionSecrets,'resave':!![],'saveUninitialized':!![],'name':'X-Panel_USER_PRIV_INFO','cookie':{'secure':![],'maxAge':0xea60}}));process[_0x2e2084(0xe2)]['ENVIRONMENT']===_0x2e2084(0xfe)?mongoose[_0x2e2084(0xd0)](process['env'][_0x2e2084(0xce)],{'useNewUrlParser':!![],'useUnifiedTopology':!![],'auth':{'username':process['env'][_0x2e2084(0xf3)],'password':process[_0x2e2084(0xe2)]['MONGO_PWD'],'atuhdb':process[_0x2e2084(0xe2)][_0x2e2084(0xcb)]}})[_0x2e2084(0xbf)](()=>{const _0xafbf02=_0x2e2084;console[_0xafbf02(0xc8)](_0xafbf02(0xe3));})[_0x2e2084(0xd4)](_0x2d7959=>{const _0x35303b=_0x2e2084;console[_0x35303b(0xc8)](_0x2d7959[_0x35303b(0xfc)]);}):mongoose[_0x2e2084(0xd0)](process[_0x2e2084(0xe2)][_0x2e2084(0xce)],{'useNewUrlParser':!![],'useUnifiedTopology':!![]})[_0x2e2084(0xbf)](()=>{const _0x1151f4=_0x2e2084;console['log'](_0x1151f4(0xe3));})[_0x2e2084(0xd4)](_0x2cf9d5=>{const _0x2211da=_0x2e2084;console[_0x2211da(0xc8)](_0x2cf9d5['message']);});app[_0x2e2084(0xf9)](express[_0x2e2084(0xe0)](path[_0x2e2084(0xd1)](__dirname,_0x2e2084(0xe4)))),app['use'](_0x2e2084(0xf2),licenseRoutes),((async()=>{const _0x3293a5=_0x2e2084,_0x1e10e9=await getLicense(licenseKey);_0x1e10e9===!![]?(console[_0x3293a5(0xc8)]('License\x20Key\x20Valid'),app[_0x3293a5(0xf9)](_0x3293a5(0xdf),authRoutes),app[_0x3293a5(0xf9)](_0x3293a5(0xb8),serverRoutes),app[_0x3293a5(0xf9)](_0x3293a5(0xb9),ticketRoutes),app[_0x3293a5(0xf9)]('/api/payments',paymentRoutes),app['use'](_0x3293a5(0xd5),webhostingRoutes),app[_0x3293a5(0xf9)]('/api/dev',devRoutes),app[_0x3293a5(0xf9)](_0x3293a5(0xe8),miscRoutes),app[_0x3293a5(0xc1)]('*',(_0x51142b,_0x4c4d72)=>{const _0x5acf22=_0x3293a5;_0x4c4d72[_0x5acf22(0xf8)](path[_0x5acf22(0xd1)](__dirname,_0x5acf22(0xed)));})):(console['log'](_0x3293a5(0xe1)),app['use']((_0x2fe627,_0x49bc15,_0x18719e)=>{const _0x248382=_0x3293a5;_0x49bc15['status'](0x194)[_0x248382(0xcd)]('It\x20seems\x20this\x20application\x20is\x20not\x20licensed.\x20Please\x20contact\x20support.');}));})());const server=app[_0x2e2084(0xbe)](serverPort,()=>console['log']('Server\x20started\x20on\x20'+serverPort)),io=socket(server,{'cors':{'origin':corsOrigin,'credentials':!![]}});global[_0x2e2084(0xc5)]=new Map(),global[_0x2e2084(0xc7)]=new Map(),io['on'](_0x2e2084(0xf6),_0x2635f0=>{const _0x4eec84=_0x2e2084;global['chatSocket']=_0x2635f0,_0x2635f0['on'](_0x4eec84(0xca),(_0x2382f1,_0x2c6fca)=>{const _0x28e2b0=_0x4eec84;onlineUsers[_0x28e2b0(0xf5)](_0x2382f1,_0x2c6fca),_0x2635f0['join'](_0x2c6fca);}),_0x2635f0['on'](_0x4eec84(0xeb),_0x27558c=>{const _0x5b2781=_0x4eec84,_0x390b57=onlineUsers[_0x5b2781(0xc1)](_0x27558c['to']);_0x390b57&&_0x2635f0['to'](_0x390b57)[_0x5b2781(0xfa)](_0x5b2781(0xfb),{'msg':_0x5b2781(0xe9),'from':'System'});}),_0x2635f0['on'](_0x4eec84(0xf4),_0x4d6e7d=>{const _0x1c1c5d=_0x4eec84;console[_0x1c1c5d(0xc8)](_0x4d6e7d),_0x2635f0['to'](_0x4d6e7d[_0x1c1c5d(0xba)])[_0x1c1c5d(0xfa)](_0x1c1c5d(0xcf),{'msg':_0x4d6e7d['msg'],'user':_0x4d6e7d[_0x1c1c5d(0xc3)]});});}),setTimeout(()=>{setInterval(()=>{(async function(){const _0x127536=require('./models/subscriptions'),_0x2cdfdb=await _0x127536['find']();_0x2cdfdb['forEach'](_0x94d2a1=>{(async function(){const _0x44d0f5=_0x1cbe;Math['floor'](Date[_0x44d0f5(0xbd)]()/0x3e8)>=_0x94d2a1[_0x44d0f5(0xc0)]&&await _0x127536['updateOne']({'_id':_0x94d2a1[_0x44d0f5(0xff)]},{'nextPurchaseTime':Math['floor'](Date[_0x44d0f5(0xbd)]()/0x3e8)+0x278d00});}());});}());},0xa);},0x14),setTimeout(()=>{setInterval(()=>{(async function(){const _0x526a1c=_0x1cbe,_0x197622=require(_0x526a1c(0xbc)),_0x20e86e=await _0x197622[_0x526a1c(0xe6)]();_0x20e86e[_0x526a1c(0xf1)](_0x3be42a=>{(async function(){const _0x9822b5=_0x1cbe;Math[_0x9822b5(0xec)](Date[_0x9822b5(0xbd)]()/0x3e8)>=_0x3be42a['expires']&&await _0x197622['deleteOne']({'_id':_0x3be42a['_id']});}());});}());},0xa);},0x14);